{"version":3,"sources":["image/item.jpg","image/detail.jpg","server/getItems.js","component/List/index.js","component/Detail/index.js","server/getDetail.js","../../build/KeepAliveRoute.esm.js","component/Application/index.js","index.js"],"names":["module","exports","id","getItems","items","i","push","title","description","image","List","useState","setItems","useEffect","map","item","style","color","to","key","src","alt","onClick","concat","width","Detail","useParams","detail","setDetail","getDetail","KeepAliveRoute","props","isMounted","setIsMounted","visible","setVisible","match","useRouteMatch","ptahName","useLocation","_visible","Object","assign","path","React","createElement","display","Route","Application","exact","ReactDOM","render","document","getElementById"],"mappings":"gIAAAA,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,oC,wICGvCC,EAAK,EAEM,SAASC,IAEtB,IADA,IAAMC,EAAQ,GACLC,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAME,KAAK,CACTJ,KACAK,MAAO,oBACPC,YAAa,0BACbC,YAEFP,GAAM,EAER,OAAOE,E,WCZM,SAASM,IAAQ,IAAD,EACLC,mBAAS,IADJ,mBACxBP,EADwB,KACjBQ,EADiB,KAI7BC,qBAAU,WACRD,EAAST,OACR,IAOH,OACE,6BACE,4BACGC,EAAMU,KAAI,SAACC,GAAD,OACT,kBAAC,IAAD,CACEC,MAAO,CAAEC,MAAO,SAChBC,GAAE,kBAAaH,EAAKb,IACpBiB,IAAKJ,EAAKb,IAEV,4BACE,4BACGa,EAAKR,MADR,IACgBQ,EAAKb,IAErB,2BAAIa,EAAKP,aACT,yBAAKY,IAAKL,EAAKN,MAAOY,IAAI,WAKlC,4BACEC,QAzBO,WACXlB,EAAQA,EAAMmB,OAAOpB,KACrBS,EAASR,IAwBLY,MAAO,CACLQ,MAAO,SAHX,iB,4BChCS,SAASC,IAAU,IACxBvB,EAAOwB,cAAPxB,GADuB,EAEHS,mBAAS,IAFN,mBAExBgB,EAFwB,KAEhBC,EAFgB,KAS/B,OAJAf,qBAAU,WACRe,ECTW,SAAmB1B,GAChC,MAAO,CACLA,KACAK,MAAO,2BACPC,YAAa,iCACbC,WDIUoB,CAAU3B,MACnB,CAACA,IAGF,6BACE,4BACGyB,EAAOpB,MADV,IACkBoB,EAAOzB,IAEzB,2BAAIyB,EAAOnB,aACX,yBAAKY,IAAKO,EAAOlB,MAAOY,IAAI,MEuBnBS,MAnCf,SAAwBC,GAAO,MAEKpB,oBAAS,GAFd,mBAEtBqB,EAFsB,KAEXC,EAFW,OAGCtB,oBAAS,GAHV,mBAGtBuB,EAHsB,KAGbC,EAHa,KAKvBC,EAAQC,YAAcN,GAG1BO,EACEC,cADFD,SAGF,GAAIN,EAAW,CACb,IAAMQ,IAAaJ,EAEfF,IAAYM,GACdL,EAAWK,GAIbT,EAAQU,OAAOC,OAAO,GAAIX,EAAO,CAC/BY,KAAML,SAGJF,GACFH,GAAa,GAIjB,OAAOD,EAAyBY,IAAMC,cAAc,MAAO,CACzD7B,MAAO,CACL8B,QAASZ,EAAU,QAAU,SAEjBU,IAAMC,cAAcE,IAAOhB,IAAuBa,IAAMC,cAAcE,IAAOhB,ICjChF,SAASiB,IACtB,OACE,6BACE,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAgBL,KAAK,0BACnB,kBAACjC,EAAD,OAEF,kBAAC,IAAD,CAAOiC,KAAK,IAAIM,OAAK,GACnB,kBAAC,IAAD,CAAM/B,GAAG,SAAT,wBACA,6BACA,kBAAC,IAAD,CAAMA,GAAG,0BAAT,kCAEF,kBAAC,IAAD,CAAOyB,KAAK,SACV,kBAACjC,EAAD,OAGF,kBAAC,IAAD,CAAOiC,KAAK,eACV,kBAAClB,EAAD,SCnBVyB,IAASC,OAAO,kBAACH,EAAD,MAAiBI,SAASC,eAAe,W","file":"static/js/main.98fc6bd5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/item.83634120.jpg\";","module.exports = __webpack_public_path__ + \"static/media/detail.3ea2d5aa.jpg\";","import image from \"../image/item.jpg\";\n\n//keep id\nlet id = 0;\n//the mock server\nexport default function getItems() {\n  const items = [];\n  for (let i = 0; i < 2; i++) {\n    items.push({\n      id,\n      title: \"I am item's title\",\n      description: \"I am item's description\",\n      image,\n    });\n    id += 1;\n  }\n  return items;\n}\n","import React, { useEffect, useState } from \"react\";\nimport getItems from \"../../server/getItems\";\nimport { Link } from \"react-router-dom\";\n\nexport default function List() {\n  let [items, setItems] = useState([]);\n\n  //mock call back-end to init\n  useEffect(() => {\n    setItems(getItems());\n  }, []);\n\n  const load = () => {\n    items = items.concat(getItems());\n    setItems(items);\n  };\n\n  return (\n    <div>\n      <ul>\n        {items.map((item) => (\n          <Link\n            style={{ color: \"black\" }}\n            to={`/detail/${item.id}`}\n            key={item.id}\n          >\n            <li>\n              <h3>\n                {item.title} {item.id}\n              </h3>\n              <p>{item.description}</p>\n              <img src={item.image} alt=\"\" />\n            </li>\n          </Link>\n        ))}\n      </ul>\n      <button\n        onClick={load}\n        style={{\n          width: \"100%\",\n        }}\n      >\n        加载\n      </button>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport getDetail from '../../server/getDetail';\n\nexport default function Detail() {\n  const { id } = useParams();\n  const [detail, setDetail] = useState({});\n\n  //mock to call back-end to init\n  useEffect(() => {\n    setDetail(getDetail(id));\n  }, [id]);\n\n  return (\n    <div>\n      <h3>\n        {detail.title} {detail.id}\n      </h3>\n      <p>{detail.description}</p>\n      <img src={detail.image} alt=\"\" />\n    </div>\n  );\n}\n","import image from \"../image/detail.jpg\";\nexport default function getDetail(id) {\n  return {\n    id,\n    title: \"I am detail page's title\",\n    description: \"I am detail page's description\",\n    image,\n  };\n}\n","import React, { useState } from 'react';\nimport { useRouteMatch, useLocation, Route } from 'react-router-dom';\n\n/**\n * Same as Route except that KeepAliveRoute will reuse old mounted component\n */\n\nfunction KeepAliveRoute(props) {\n  //is the component mounted?\n  const [isMounted, setIsMounted] = useState(false);\n  const [visible, setVisible] = useState(false); //is route matched?\n\n  const match = useRouteMatch(props); //current path\n\n  const {\n    ptahName\n  } = useLocation();\n\n  if (isMounted) {\n    const _visible = !!match;\n\n    if (visible !== _visible) {\n      setVisible(_visible);\n    } //hack:set path to current path to keep old mounted component\n\n\n    props = Object.assign({}, props, {\n      path: ptahName\n    });\n  } else {\n    if (match) {\n      setIsMounted(true);\n    }\n  }\n\n  return isMounted ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: visible ? \"block\" : \"none\"\n    }\n  }, /*#__PURE__*/React.createElement(Route, props)) : /*#__PURE__*/React.createElement(Route, props);\n}\n\nexport default KeepAliveRoute;\n","import React from \"react\";\nimport List from \"../List\";\nimport { HashRouter as Router, Link, Route } from \"react-router-dom\";\nimport Detail from \"../Detail\";\nimport KeepAliveRoute from \"keep-alive-route\";\n\nexport default function Application() {\n  return (\n    <div>\n      <Router>\n        <KeepAliveRoute path=\"/list-keep-alive-route\">\n          <List></List>\n        </KeepAliveRoute>\n        <Route path=\"/\" exact>\n          <Link to=\"/list\">list page with Route</Link>\n          <hr />\n          <Link to=\"/list-keep-alive-route\">list page with KeepAliveRoute</Link>\n        </Route>\n        <Route path=\"/list\">\n          <List></List>\n        </Route>\n\n        <Route path=\"/detail/:id\">\n          <Detail></Detail>\n        </Route>\n      </Router>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Application from \"./component/Application\";\n\nReactDOM.render(<Application />, document.getElementById(\"root\"));\n"],"sourceRoot":""}